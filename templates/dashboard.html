{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">Available Books</h1>

{% if books %}
  <div class="list-group">
    {% for book in books %}
      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <div class="fw-bold">{{ book.title }}</div>
          <div class="text-muted">{{ book.author }}</div>

          {% if book.digital_link %}
            <a href="{{ book.digital_link }}" target="_blank" class="btn btn-info btn-sm mt-2">
              Read PDF
            </a>
          {% endif %}
        </div>

        <div>
          {% if book.available %}
            <form method="POST" action="{{ url_for('borrow_book', book_id=book.id) }}">
              <button type="submit" class="btn btn-primary btn-sm">Borrow</button>
            </form>
          {% else %}
            <button class="btn btn-secondary btn-sm" disabled>Borrowed</button>
          {% endif %}
        </div>

      </div>
    {% endfor %}
  </div>

{% else %}
  <div class="alert alert-warning mt-3">No books available.</div>
{% endif %}
{% endblock %}
